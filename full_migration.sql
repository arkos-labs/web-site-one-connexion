
-- Script de migration généré automatiquement
-- Met à jour les prix pour correspondre aux données locales (tarifs_idf.ts)

BEGIN;

CREATE TEMP TABLE pricing_updates (
    city_name text,
    zip_code text,
    price_normal numeric,
    price_express numeric,
    price_urgence numeric,
    price_vl_normal numeric,
    price_vl_express numeric
);

INSERT INTO pricing_updates (city_name, zip_code, price_normal, price_express, price_urgence, price_vl_normal, price_vl_express) VALUES
('Alfortville', '94140', 6, 10, 14, 12, 18),
('Antony', '92160', 8, 12, 16, 16, 24),
('Arcueil', '94110', 4, 7, 10, 8, 12),
('Argenteuil', '95100', 8, 12, 16, 16, 24),
('Arpajon', '91290', 15, 20, 25, 30, 45),
('Asnières sur Seine', '92600', 4, 7, 10, 8, 12),
('Athis Mons', '91200', 12, 17, 22, 24, 36),
('Aubervilliers', '93300', 4, 7, 10, 8, 12),
('Aulnay sous Bois', '93600', 12, 17, 22, 24, 36),
('Bagneux', '92220', 4, 7, 10, 8, 12),
('Bagnolet', '93170', 4, 7, 10, 8, 12),
('Bezons', '95870', 8, 12, 16, 16, 24),
('Bièvres', '91570', 12, 17, 22, 24, 36),
('Blanc Mesnil (le)', '93150', 8, 12, 16, 16, 24),
('Bobigny', '93000', 6, 10, 14, 12, 18),
('Bois Colombes', '92270', 4, 7, 10, 8, 12),
('Bois d''Arcy', '78390', 14, 19, 24, 28, 42),
('Bondoufle', '91070', 15, 20, 25, 30, 45),
('Bondy', '93140', 8, 12, 16, 16, 24),
('Bonneuil sur Marne', '94380', 12, 17, 22, 24, 36),
('Bougival', '78380', 8, 12, 16, 16, 24),
('Boulogne Billancourt', '92100', 3, 6, 9, 6, 9),
('Bourg la Reine', '92340', 8, 12, 16, 16, 24),
('Bourget (le)', '93350', 8, 12, 16, 16, 24),
('Brie Comte Robert', '77170', 20, 25, 30, 40, 60),
('Bry sur Marne', '94360', 8, 12, 16, 16, 24),
('Buc', '78530', 8, 12, 16, 16, 24),
('Bussy Saint Georges', '77600', 14, 19, 24, 28, 42),
('Cachan', '94230', 4, 7, 10, 8, 12),
('Carrières sur Seine', '78420', 8, 12, 16, 16, 24),
('Cergy', '95800', 15, 20, 25, 30, 45),
('Champigny sur Marne', '94500', 8, 12, 16, 16, 24),
('Champs sur Marne', '77420', 14, 19, 24, 28, 42),
('Charenton le Pont', '94220', 4, 7, 10, 8, 12),
('Châtenay Malabry', '92290', 8, 12, 16, 16, 24),
('Châtillon', '92320', 4, 7, 10, 8, 12),
('Chatou', '78400', 8, 12, 16, 16, 24),
('Chaville', '92370', 7, 11, 15, 14, 21),
('Chelles', '77500', 14, 19, 24, 28, 42),
('Chennevières sur Marne', '94430', 12, 17, 22, 24, 36),
('Chesnay Rocquencourt (le)', '78150', 8, 12, 16, 16, 24),
('Chessy', '77700', 20, 25, 30, 40, 60),
('Chevilly Larue', '94550', 8, 12, 16, 16, 24),
('Chilly Mazarin', '91380', 12, 17, 22, 24, 36),
('Choisy le Roi', '94600', 8, 12, 16, 16, 24),
('Clamart', '92140', 4, 7, 10, 8, 12),
('Clichy', '92110', 3, 6, 9, 6, 9),
('Clichy sous Bois', '93390', 14, 19, 24, 28, 42),
('Colombes', '92700', 4, 7, 10, 8, 12),
('Combs la Ville', '77380', 18, 23, 28, 36, 54),
('Conflans Ste Honorine', '78700', 15, 20, 25, 30, 45),
('Coubron', '93470', 14, 19, 24, 28, 42),
('Coulommiers', '77120', 30, 35, 40, 60, 90),
('Courbevoie', '92400', 3, 6, 9, 6, 9),
('Courcouronnes', '91080', 15, 20, 25, 30, 45),
('Courneuve (la)', '93120', 6, 10, 14, 12, 18),
('Créteil', '94000', 8, 12, 16, 16, 24),
('Croissy Beaubourg', '77183', 14, 19, 24, 28, 42),
('Défense (la)', '92060', 3, 6, 9, 6, 9),
('Deuil la Barre', '95170', 10, 15, 20, 20, 30),
('Domont', '95330', 14, 19, 24, 28, 42),
('Drancy', '93700', 8, 12, 16, 16, 24),
('Dugny', '93440', 8, 12, 16, 16, 24),
('Elancourt', '78990', 14, 19, 24, 28, 42),
('Emerainville', '77184', 14, 19, 24, 28, 42),
('Enghien les Bains', '95880', 10, 15, 20, 20, 30),
('Epinay sur Seine', '93800', 6, 10, 14, 12, 18),
('Étampes', '91150', 25, 30, 35, 50, 75),
('Evry', '91000', 15, 20, 25, 30, 45),
('Fontainebleau', '77300', 30, 35, 40, 60, 90),
('Fontenay aux Roses', '92260', 4, 7, 10, 8, 12),
('Fontenay sous Bois', '94120', 6, 10, 14, 12, 18),
('Fourqueux', '78112', 10, 15, 20, 20, 30),
('Franconville la Garenne', '95130', 10, 15, 20, 20, 30),
('Fresnes', '94260', 8, 12, 16, 16, 24),
('Gagny', '93220', 12, 17, 22, 24, 36),
('Garches', '92380', 4, 7, 10, 8, 12),
('Garenne Colombes (la)', '92250', 4, 7, 10, 8, 12),
('Garges les Gonesse', '95140', 10, 15, 20, 20, 30),
('Gennevilliers', '92230', 4, 7, 10, 8, 12),
('Gentilly', '94250', 4, 7, 10, 8, 12),
('Gif sur Yvette', '91190', 15, 20, 25, 30, 45),
('Gometz le Châtel', '91940', 15, 20, 25, 30, 45),
('Gonesse', '95000', 10, 15, 20, 20, 30),
('Gournay sur Marne', '93460', 14, 19, 24, 28, 42),
('Goussainville', '95190', 14, 19, 24, 28, 42),
('Guyancourt', '78280', 14, 19, 24, 28, 42),
('Hay les Roses (l'')', '94240', 6, 10, 14, 12, 18),
('Herblay', '95220', 15, 20, 25, 30, 45),
('Houilles', '78800', 8, 12, 16, 16, 24),
('Iles Saint Denis (l'')', '93450', 6, 10, 14, 12, 18),
('Issy les Moulineaux', '92130', 3, 6, 9, 6, 9),
('Ivry sur Seine', '94200', 4, 7, 10, 8, 12),
('Joinville le Pont', '94340', 6, 10, 14, 12, 18),
('Jouy en Josas', '78350', 8, 12, 16, 16, 24),
('Juvisy sur Orge', '91260', 12, 17, 22, 24, 36),
('Kremlin Bicêtre (le)', '94250', 4, 7, 10, 8, 12),
('La Queue-en-Brie', '94510', 14, 19, 24, 28, 42),
('Levallois Perret', '92300', 3, 6, 9, 6, 9),
('Lieusaint', '77127', 18, 23, 28, 36, 54),
('Lilas (les)', '93260', 4, 7, 10, 8, 12),
('Limeil Brevannes', '94450', 12, 17, 22, 24, 36),
('Lisses', '91090', 15, 20, 25, 30, 45),
('Livry Gargan', '93190', 14, 19, 24, 28, 42),
('Lognes', '77185', 14, 19, 24, 28, 42),
('Longjumeau', '91160', 12, 17, 22, 24, 36),
('Louveciennes', '78430', 8, 12, 16, 16, 24),
('Maisons Alfort', '94700', 6, 10, 14, 12, 18),
('Maisons Laffite', '78600', 10, 15, 20, 20, 30),
('Malakoff', '92240', 3, 6, 9, 6, 9),
('Mantes la Jolie', '78200', 25, 30, 35, 50, 75),
('Marly le Roi', '78160', 8, 12, 16, 16, 24),
('Marnes la Coquette', '92430', 7, 11, 15, 14, 21),
('Massy', '91300', 12, 17, 22, 24, 36),
('Meaux', '77100', 25, 30, 35, 50, 75),
('Melun', '77000', 25, 30, 35, 50, 75),
('Meudon', '92190', 4, 7, 10, 8, 12),
('Meudon La Forêt', '92390', 7, 11, 15, 14, 21),
('Meulan en Yvelines', '78250', 20, 25, 30, 40, 60),
('Mitry Mory', '77290', 14, 19, 24, 28, 42),
('Moissy Cramayel', '77550', 18, 23, 28, 36, 54),
('Monfermeil', '93370', 14, 19, 24, 28, 42),
('Montfort l''Amaury', '78490', 20, 23, 27, 40, 60),
('Montigny le Bretonneux', '78180', 14, 19, 24, 28, 42),
('Montlhéry', '91310', 15, 20, 25, 30, 45),
('Montreuil sous Bois', '93100', 4, 7, 10, 8, 12),
('Montrouge', '92120', 3, 6, 9, 6, 9),
('Morangis', '91420', 12, 17, 22, 24, 36),
('Mureaux (les)', '78130', 20, 25, 30, 40, 60),
('Nanterre', '92000', 4, 7, 10, 8, 12),
('Neuilly Plaisance', '93360', 12, 17, 22, 24, 36),
('Neuilly sur Marne', '93330', 12, 17, 22, 24, 36),
('Neuilly sur Seine', '92200', 3, 6, 9, 6, 9),
('Nogent sur Marne', '94130', 6, 10, 14, 12, 18),
('Noiseau', '94370', 12, 17, 22, 24, 36),
('Noisy le Grand', '93160', 12, 17, 22, 24, 36),
('Noisy le Sec', '93130', 6, 10, 14, 12, 18),
('Orly', '94310', 8, 12, 16, 16, 24),
('Ormesson sur Marne', '94490', 12, 17, 22, 24, 36),
('Orsay', '91400', 15, 20, 25, 30, 45),
('Palaiseau', '91120', 12, 17, 22, 24, 36),
('Pantin', '93500', 4, 7, 10, 8, 12),
('Paris 01', '75001', 2, 4, 7, 4, 6),
('Paris 02', '75002', 2, 4, 7, 4, 6),
('Paris 03', '75003', 3, 6, 9, 6, 9),
('Paris 04', '75004', 3, 6, 9, 6, 9),
('Paris 05', '75005', 3, 6, 9, 6, 9),
('Paris 06', '75006', 3, 6, 9, 6, 9),
('Paris 07', '75007', 2, 4, 7, 4, 6),
('Paris 08', '75008', 2, 4, 7, 4, 6),
('Paris 09', '75009', 2, 4, 7, 4, 6),
('Paris 10', '75010', 3, 6, 9, 6, 9),
('Paris 11', '75011', 3, 6, 9, 6, 9),
('Paris 12', '75012', 3, 6, 9, 6, 9),
('Paris 13', '75013', 3, 6, 9, 6, 9),
('Paris 14', '75014', 3, 6, 9, 6, 9),
('Paris 15', '75015', 2, 4, 7, 4, 6),
('Paris 16', '75016', 2, 4, 7, 4, 6),
('Paris 17', '75017', 2, 4, 7, 4, 6),
('Paris 18', '75018', 3, 6, 9, 6, 9),
('Paris 19', '75019', 3, 6, 9, 6, 9),
('Paris 20', '75020', 3, 6, 9, 6, 9),
('Pavillons sous Bois (les)', '93320', 12, 17, 22, 24, 36),
('Perreux sur Marne (le)', '94170', 8, 12, 16, 16, 24),
('Pierrefitte sur Seine', '93380', 8, 12, 16, 16, 24),
('Plaisir', '78370', 14, 19, 24, 28, 42),
('Plessis Robinson (le)', '92350', 8, 12, 16, 16, 24),
('Plessis Trévise (le)', '94420', 14, 19, 24, 28, 42),
('Poissy', '78300', 15, 20, 25, 30, 45),
('Pontoise', '95300', 15, 20, 25, 30, 45),
('Pré Saint Gervais (le)', '93310', 4, 7, 10, 8, 12),
('Puteaux', '92800', 3, 6, 9, 6, 9),
('Raincy (le)', '93340', 12, 17, 22, 24, 36),
('Rambouillet', '78120', 25, 30, 35, 50, 75),
('Roissy en France', '95700', 14, 19, 24, 28, 42),
('Romainville', '93230', 6, 10, 14, 12, 18),
('Rosny sous Bois', '93110', 6, 10, 14, 12, 18),
('Rueil Malmaison', '92500', 4, 7, 10, 8, 12),
('Rungis', '94150', 8, 12, 16, 16, 24),
('Saclay', '91400', 15, 20, 25, 30, 45),
('Saint Cloud', '92210', 4, 7, 10, 8, 12),
('Saint Denis (la plaine)', '93210', 4, 7, 10, 8, 12),
('Saint Denis (nord)', '93200', 6, 10, 14, 12, 18),
('Saint Germain en Laye', '78100', 10, 15, 20, 20, 30),
('Saint Gratien', '95210', 10, 15, 20, 20, 30),
('Saint Mandé', '94160', 4, 7, 10, 8, 12),
('Saint Maur des Fossés', '94210', 8, 12, 16, 16, 24),
('Saint Maurice', '94410', 6, 10, 14, 12, 18),
('Saint Ouen l''Aumône', '95310', 15, 20, 25, 30, 45),
('Saint Ouen sur Seine', '93400', 4, 7, 10, 8, 12),
('Saint Thibault des Vignes', '77400', 16, 21, 26, 32, 48),
('Sarcelles', '95200', 10, 15, 20, 20, 30),
('Sartrouville', '78500', 8, 12, 16, 16, 24),
('Sceaux', '92330', 8, 12, 16, 16, 24),
('Sevran', '93270', 14, 19, 24, 28, 42),
('Sèvres', '92310', 4, 7, 10, 8, 12),
('Stains', '93240', 8, 12, 16, 16, 24),
('Sucy en Brie', '94370', 12, 17, 22, 24, 36),
('Suresnes', '92150', 3, 6, 9, 6, 9),
('Thiais', '94320', 8, 12, 16, 16, 24),
('Torcy', '77200', 14, 19, 24, 28, 42),
('Trappes', '78190', 14, 19, 24, 28, 42),
('Tremblay en France', '93290', 14, 19, 24, 28, 42),
('Ulis (les)', '91940', 15, 20, 25, 30, 45),
('Valenton', '94460', 12, 17, 22, 24, 36),
('Vanves', '92170', 3, 6, 9, 6, 9),
('Vaucresson', '92420', 7, 11, 15, 14, 21),
('Vaujours', '93410', 14, 19, 24, 28, 42),
('Vélizy Villacoublay', '78140', 8, 12, 16, 16, 24),
('Versailles', '78000', 8, 12, 16, 16, 24),
('Vesinet (le)', '78110', 8, 12, 16, 16, 24),
('Ville d''Avray', '92410', 7, 11, 15, 14, 21),
('Villecresnes', '94440', 14, 19, 24, 28, 42),
('Villejuif', '94800', 6, 10, 14, 12, 18),
('Villemomble', '93250', 8, 12, 16, 16, 24),
('Villeneuve la Garenne', '92390', 6, 10, 14, 12, 18),
('Villeneuve St Georges', '94190', 12, 17, 22, 24, 36),
('Villepinte', '93420', 14, 19, 24, 28, 42),
('Villetaneuse', '93430', 8, 12, 16, 16, 24),
('Villiers sur Marne', '94350', 8, 12, 16, 16, 24),
('Vincennes', '94300', 4, 7, 10, 8, 12),
('Viroflay', '78220', 8, 12, 16, 16, 24),
('Vitry sur Seine', '94400', 6, 10, 14, 12, 18),
('Voisins le Bretonneux', '78960', 14, 19, 24, 28, 42),
('Wissous', '91320', 10, 15, 20, 20, 30);


INSERT INTO city_pricing (city_name, zip_code, price_normal, price_express, price_urgence, price_vl_normal, price_vl_express)
SELECT 
    pu.city_name, 
    pu.zip_code, 
    pu.price_normal, 
    pu.price_express, 
    pu.price_urgence, 
    pu.price_vl_normal, 
    pu.price_vl_express
FROM pricing_updates pu
ON CONFLICT (city_name, zip_code) 
DO UPDATE SET
    price_normal = EXCLUDED.price_normal,
    price_express = EXCLUDED.price_express,
    price_urgence = EXCLUDED.price_urgence,
    price_vl_normal = EXCLUDED.price_vl_normal,
    price_vl_express = EXCLUDED.price_vl_express,
    updated_at = NOW();

COMMIT;
